commands:
  # Animation
  bake_simulation:
    description: Bake the existing anim curves.
    short: bake
    icon: bakeAnimation.png
    code: |
      from maya import mel
      mel.eval("BakeSimulation")
  delete_animation:
    description: Delete all the existing anim curves.
    icon: setKeyframe.png
    short: delete
    decorators: [undo_repeat]
    code: |
      from maya import cmds
      keyframes = cmds.ls(type="animCurve")
      if keyframes:
          cmds.delete(keyframes)

  bake_simulation_options:
    description: Open the bake simulation settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("BakeSimulationOptions")

  # Attributes ---
  reset_attributes:
    description: Reset the the selected attributes to their default values.
    decorators: [undo_repeat]
    code: |
      import ftd.attribute
      from maya import cmds
      attributes = cmds.channelBox("mainChannelBox", query=True, selectedMainAttributes=True)
      for each in cmds.ls(selection=True):
          ftd.attribute.reset(each, attributes)
    context: |
      from maya import cmds
      cmds.select(cmds.createNode("transform", name="A"))

  # Constraints ---
  aim_constraint:
    description: Create a new aim constraint.
    icon: aimConstraint.png
    short: aim
    code: |
      from maya import mel
      mel.eval("AimConstraint")
  matrix_constraint:
    description: Create a constraint using matrix nodes.
    icon: toolbar/matrix_constraint.svg
    decorators: [undo_repeat]
    code: |
      from maya import cmds
      import ftd.constraint
      sel = cmds.ls(selection=True)
      driver = sel.pop(0)
      for driven in sel:
          ftd.constraint.matrix(driver, driven, offset=True)
    context: |
      from maya import cmds
      cmds.select(
          cmds.createNode("transform", name="A"),
          cmds.createNode("transform", name="B"),
      )
  matrix_chain_constraint:
    label: chain
    decorators: [undo_repeat]
    code: |
      import ftd.constraint
      from maya import cmds
      sel = cmds.ls(selection=True)
      for i, driver in enumerate(sel[:-1]):
          ftd.constraint.matrix(driver, sel[i + 1], offset=True)
  matrix_orient_constraint:
    description: Create a orient constraint using matrix nodes.
    icon: rotate_M.png
    decorators: [undo_repeat]
    code: |
      from maya import cmds
      import ftd.constraint
      sel = cmds.ls(selection=True)
      driver = sel.pop(0)
      for driven in sel:
          ftd.constraint.matrix(driver, driven, offset=True, srt="r")
    context: |
      from maya import cmds
      cmds.select(
          cmds.createNode("transform", name="A"),
          cmds.createNode("transform", name="B"),
      )
  matrix_point_constraint:
    description: Create a point constraint using matrix nodes.
    icon: move_M.png
    decorators: [undo_repeat]
    code: |
      from maya import cmds
      import ftd.constraint
      sel = cmds.ls(selection=True)
      driver = sel.pop(0)
      for driven in sel:
          ftd.constraint.matrix(driver, driven, offset=True, srt="t")
    context: |
      from maya import cmds
      cmds.select(
          cmds.createNode("transform", name="A"),
          cmds.createNode("transform", name="B"),
      )
  matrix_scale_constraint:
    description: Create a scale constraint using matrix nodes.
    icon: scale_M.png
    code: |
      from maya import cmds
      import ftd.constraint
      sel = cmds.ls(selection=True)
      driver = sel.pop(0)
      for driven in sel:
          ftd.constraint.matrix(driver, driven, offset=True, srt="s")
    context: |
      from maya import cmds
      cmds.select(
          cmds.createNode("transform", name="A"),
          cmds.createNode("transform", name="B"),
      )
  motion_path:
    description: Create a motion path constraint.
    icon: motionPath.png
    code: |
      from maya import mel
      mel.eval("AttachToPath")
  normal_constraint:
    description: Create a normal tangent constraint.
    icon: normalConstraint.png
    code: |
      from maya import mel
      mel.eval("NormalConstraint")
  orient_constraint:
    description: Create a new orient constraint.
    short: orient
    icon: orientConstraint.png
    code: |
      from maya import mel
      mel.eval("OrientConstraint")
  parent_constraint:
    description: Create a new parent constraint.
    short: parent
    icon: parentConstraint.png
    code: |
      from maya import mel
      mel.eval("ParentConstraint")
  point_constraint:
    description: Create a new point constraint.
    short: point
    icon: posConstraint.png
    code: |
      from maya import mel
      mel.eval("PointConstraint")
  pole_vector_constraint:
    description: Create a new pole vector constraint.
    short: pv
    icon: poleVectorConstraint.png
    code: |
      from maya import mel
      mel.eval("PoleVectorConstraint")
  rivet:
    description: Create a new rivet locator attach to two edges.
    # icon: rivet.bmp
    code: |
      from maya import mel
      mel.eval("Rivet")
  scale_constraint:
    description: Create a new scale constraint.
    icon: scaleConstraint.png
    short: scale
    code: |
      from maya import mel
      mel.eval("ScaleConstraint")
  tangent_constraint:
    description: Create a new tangent constraint.
    icon: tangentConstraint.png
    code: |
      from maya import mel
      mel.eval("TangentConstraint")

  aim_constraint_options:
    description: Open the aim constraint settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("AimConstraintOptions")
  motion_path_options:
    description: Open the motion path constraint settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("AttachToPathOptions")
  normal_constraint_options:
    description: Open the normal constraint settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("NormalConstraintOptions")
  orient_constraint_options:
    description: Open the orient constraint settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("OrientConstraintOptions")
  parent_constraint_options:
    description: Open the parent constraint settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("ParentConstraintOptions")
  point_constraint_options:
    description: Open the point constraint settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("PointConstraintOptions")
  pole_vector_constraint_options:
    description: Open the aim constraint settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("PoleVectorConstraintOptions")
  scale_constraint_options:
    description: Open the scale constraint settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("ScaleConstraintOptions")
  tangent_constraint_options:
    description: Open the tangent constraint settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("TangentConstraintOptions")

  # Controls ---
  circle_control:
    description: Create a circle control.
    icon: controls/circle.svg
    decorators: [create, undo_repeat]
    code: |
      import ftd.control
      return ftd.control.create("circle")
  cube_control:
    description: Create a cube control.
    icon: controls/cube.svg
    decorators: [create, undo_repeat]
    code: |
      import ftd.control
      return ftd.control.create("cube")
  gear_control:
    description: Create a gear control.
    icon: controls/gear.svg
    decorators: [create, undo_repeat]
    code: |
      import ftd.control
      return ftd.control.create("gear")
  global_control:
    description: Create a global control.
    icon: controls/global.svg
    decorators: [create, undo_repeat]
    code: |
      import ftd.control
      return ftd.control.create("global")
  sphere_control:
    description: Create a sphere control.
    icon: controls/sphere.svg
    decorators: [create, undo_repeat]
    code: |
      import ftd.control
      return ftd.control.create("sphere")
  square_control:
    description: Create a square control.
    icon: controls/square.svg
    decorators: [create, undo_repeat]
    code: |
      import ftd.control
      return ftd.control.create("square")

  object_replace_control_shape:
    description: Replace the shape of a control in object space.
    decorators: [undo_repeat, keep_selected]
    short: replace
    code: |
      import ftd.control
      from maya import cmds
      selection = cmds.ls(selection=True)
      new = selection[0]
      for each in cmds.ls(selection=True)[1:]:
          ftd.control.replace(each, new)
    context: |
      from maya import cmds
      import ftd.control
      cmds.select(
          ftd.control.create("global", name="A"),
          ftd.control.create("sphere", name="B"),
      )
  world_replace_control_shape:
    description: Replace the shape of a control in world space.
    decorators: [undo_repeat, keep_selected]
    code: |
      import ftd.control
      from maya import cmds
      selection = cmds.ls(selection=True)
      new = selection[0]
      for each in cmds.ls(selection=True)[1:]:
          ftd.control.replace(each, new, absolute=True)
    context: |
      from maya import cmds
      import ftd.control
      cmds.select(
          ftd.control.create("global", name="A"),
          ftd.control.create("sphere", name="B"),
      )
  mirror_control_shape:
    description: Mirror the control shape on the X axis.
    decorators: [undo_repeat, keep_selected]
    short: mirror
    code: |
      import ftd.control
      from maya import cmds
      for each in cmds.ls(selection=True):
          ftd.control.mirror(each)

  # Curve ---
  add_point:
    description: Add a new point on the curve.
    icon: curveAddPt.png
    code: |
      from maya import mel
      mel.eval("AddPointsTool")
  attach_curve:
    description: Attach two curve together.
    icon: attachCurves.png
    code: |
      from maya import mel
      mel.eval("AttachCurve")
  create_bezier_curve:
    description: Create a new bezier curve.
    icon: curveBezier.png
    code: |
      from maya import mel
      mel.eval("CreateBezierCurveTool")
  create_curve:
    description: Create a new curve.
    icon: curveEP.png
    code: |
      from maya import mel
      mel.eval("EPCurveTool")
  curve_from_poly:
    description: Create a new curve based on the selected edges.
    icon: polyEdgeToCurves.png
    code: |
      from maya import mel
      mel.eval("CreateCurveFromPoly")
  detach_curve:
    description: Separate two curve on the selected points.
    icon: detachCurve.png
    code: |
      from maya import mel
      mel.eval("DetachCurve")
  edit_curve:
    description: Edit a curve.
    icon: curveEditor.png
    code: |
      from maya import mel
      mel.eval("CurveEditTool")
  extend_curve:
    description: Extend the curve in the specified direction.
    icon: extend.png
    code: |
      from maya import mel
      mel.eval("ExtendCurve")
  insert_knot:
    description: Insert a knot in the curve.
    icon: insertKnot.png
    code: |
      from maya import mel
      mel.eval("InsertKnot")
  offset_curve:
    descriptiom: Offset the curve.
    icon: offsetCurve.png
    code: |
      from maya import mel
      mel.eval("OffsetCurve")
  open_close_curve:
    description: Switch between periodic and non-periodic curve.
    icon: closeGeom.png
    code: |
      from maya import mel
      mel.eval("OpenCloseCurve")
  pencil_curve:
    description: Create a curve by drawing a path.
    icon: pencil.png
    code: |
      from maya import mel
      mel.eval("PencilCurveTool")
  rebuild_curve:
    descriptiom: Rebuild the curve with the specified parameters.
    icon: rebuildCurve.png
    code: |
      from maya import mel
      mel.eval("RebuildCurve")
  reverse_curve:
    description: Reverse a curve.
    icon: reverse.png
    code: |
      from maya import mel
      mel.eval("ReverseCurve")
  smooth_curve:
    description: Smooth a curve.
    icon: modifySmooth.png
    code: |
      from maya import mel
      mel.eval("SmoothHairCurves")
  three_point_arc:
    description: Create a three point curve object.
    icon: threePointArc.png
    code: |
      from maya import mel
      mel.eval("ThreePointArcTool")

  attach_curve_options:
    description: Open the attach curve settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("AttachCurveOptions")
  create_bezier_curve_options:
    description: Open the bezier curve settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("CreateBezierCurveToolOptions")
  create_curve_options:
    description: Open the curve settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("EPCurveToolOptions")
  curve_from_poly_options:
    description: Open the curve from poly settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("CreateCurveFromPolyOptions")
  detach_curve_options:
    description: Open the detach curve settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("DetachCurveOptions")
  extend_curve_options:
    description: Open the extend curve settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("ExtendCurveOptions")
  insert_knot_options:
    description: Open the detach curve settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("InsertKnotOptions")
  offset_curve_options:
    description: Open the offset curve settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("OffsetCurveOptions")
  open_close_curve_options:
    description: Open the open/close curve settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("OpenCloseCurveOptions")
  pencil_curve_options:
    description: Open the pencil curve settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("PencilCurveToolOptions")
  rebuild_curve_options:
    description: Open the rebuild curve settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("RebuildCurveOptions")
  reverse_curve_options:
    description: Open the reverse curve settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("ReverseCurveOptions")
  smooth_curve_options:
    description: Open the smooth curve settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("SmoothHairCurvesOptions")
  three_point_arc_options:
    description: Open the three point arc settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("ThreePointArcToolOptions")

  # Deformers ---
  bend:
    description: Bends geometry relative to a central handle.
    icon: bendNLD.png
    code: |
      from maya import mel
      mel.eval("Bend")
  blendshape:
    description: Create a new Blend Shape on an object/group that can blend between other deformations / the original mesh shape.
    icon: blendShape.png
    code: |
      from maya import mel
      mel.eval("CreateBlendShape")
  cluster:
    description: Creates a transform driven deformation for a set of points on an object (CVs, vertices, or lattice points).
    icon: cluster.png
    code: |
      from maya import mel
      mel.eval("CreateCluster")
  deltamush:
    description: Filters deformation artifacts and creates smoothing effects.
    short: delta
    icon: menuIconDeformations.png
    code: |
      from maya import mel
      mel.eval("DeltaMush")
  flare:
    description: Tapers geometry along two axes.
    icon: flareNLD.png
    code: |
      from maya import mel
      mel.eval("Flare")
  hide_intermediate:
    description: Turn to off the visibility of the intermediate objects.
    label: hide
    code: |
      from maya import mel
      mel.eval("HideIntermediateObjects")
  lattice:
    description: Surrounds geometry with a flexible grid that you can use to change the object's shape.
    icon: lattice.png
    code: |
      from maya import mel
      mel.eval("CreateLattice")
  mirror:
    description: Mirror the weights of a specific deformer across an object on either the same deformer or a newly created one.
    icon: mirrorSkinWeight.png
    code: |
      from maya import mel
      mel.eval("MirrorDeformerWeights")
  sculpt:
    description: Creates rounded deformations on a surface relative to an origin locator.
    short: sculpt
    icon: sculpt.png
    code: |
      from maya import mel
      mel.eval("CreateSculptDeformer")
  show_intermediate:
    description: Turn to on the visibility of the intermediate objects.
    label: show
    code: |
      from maya import mel
      mel.eval("DisplayIntermediateObjects")
  shrink_wrap:
    description: Deform objects by wrapping them around another mesh.
    short: shrink
    icon: shrinkwrap.png
    code: |
      from maya import mel
      mel.eval("CreateShrinkWrap")
  sine:
    description: Deforms geometry along a sine wave relative to a central handle.
    icon: sineNLD.png
    code: |
      from maya import mel
      mel.eval("Sine")
  softmod:
    description: Select objects or components to modify with a curve based falloff.
    icon: softMod.png
    code: |
      from maya import mel
      mel.eval("SoftModTool")
  squash:
    description: Deforms a geometry by squashing and stretching along an axis.
    icon: squashNLD.png
    code: |
      from maya import mel
      mel.eval("Squash")
  toggle_intermediate:
    description: Toggle the visibility of the intermediate shapes.
    icon: displayIntermObj.png
    code: |
      from maya import mel
      mel.eval("cycleIntermediateObjectSibling 1")
  twist:
    description: Twists points on a surface around their center.
    icon: twistNLD.png
    code: |
      from maya import mel
      mel.eval("Twist")
  wave:
    description: Deforms geometry along a circular sine wave.
    icon: waveNLD.png
    code: |
      from maya import mel
      mel.eval("Wave")
  wire:
    description: Deform objects by having their surfaces follow the shape of a curve.
    short: wire
    icon: wire.png
    code: |
      from maya import mel
      mel.eval("WireTool")
  wire_dropoff:
    description: Creates a locatorShape at a curve point, which you can use to modify the deformation at that spot.
    icon: wireDropoff.png
    code: |
      from maya import mel
      mel.eval("WireDropoffLocator")
  wrap:
    description: Deform objects by modifying a mesh that surrounds them.
    short: wrap
    icon: wrap.png
    code: |
      from maya import mel
      mel.eval("CreateWrap")

  blend_options:
    description: Open the blend options window.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("BendOptions")
  blendshape_options:
    description: Open the blendshape options window.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("CreateBlendShapeOptions")
  cluster_options:
    description: Open the cluster options window.
    tags: [ui]
    code: |
      from maya import mel
  deltamush_options:
    description: Open the deltamush options window.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("DeltaMushOptions")
      mel.eval("CreateClusterOptions")
  flare_options:
    description: Open the flare options window.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("FlareOptions")
  lattice_options:
    description: Open the lattice options window.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("CreateLatticeOptions")
  mirror_options:
    description: Open the mirror deformers weight options window.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("MirrorDeformerWeightsOptions")
  sculpt_options:
    description: Open the sculpt options window.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("CreateSculptDeformerOptions")
  shrink_wrap_options:
    description: Open the shrink_wrap options window.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("CreateShrinkWrapOptions")
  sine_options:
    description: Open the sine options window.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("SineOptions")
  softmod_options:
    label: options
    description: Open the softmod options window.
    code: |
      from maya import mel
      mel.eval("SoftModToolOptions")
  squash_options:
    description: Open the squash options window.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("SquashOptions")
  twist_options:
    description: Open the twist options window.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("TwistOptions")
  wave_options:
    description: Open the wave options window.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("WaveOptions")
  wire_options:
    description: Open the wire options window.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("WireToolOptions")
  wire_dropoff_options:
    description: Open the wire_dropoff options window.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("WireDropoffLocatorOptions")
  wrap_options:
    description: Open the wrap options window.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("CreateWrapOptions")

  # File ---
  new_scene:
    description: Create a new scene.
    short: new
    icon: fileNew.png
    code: |
      from maya import mel
      import ftd.utility
      nodes = ["hardwareRenderGlobals", "hardwareRenderingGlobals", "defaultHardwareRenderGlobals"]
      for camera in cmds.ls(type="camera"):
          transform = cmds.listRelatives(camera, parent=True)[0]
          nodes.extend([camera, transform])
      with ftd.utility.restore_nodes(nodes):
        mel.eval("NewScene")

  # Freeze ---
  freeze_joint_orient:
    description: Reset to 0 the jointOrient attributes.
    icon: kinJoint.png
    code: |
      from maya import cmds
      cmds.makeIdentity(apply=True, jointOrient=True)
    context: |
      from maya import cmds
      cmds.select(cmds.createNode("joint", name="A"))
  freeze_rotate:
    description: Reset to 0 the rotate attributes.
    icon: rotate_M.png
    code: |
      from maya import cmds
      cmds.makeIdentity(apply=True, rotate=True)
    context: |
      from maya import cmds
      cmds.select(cmds.createNode("transform", name="A"))
  freeze_scale:
    description: Reset to 1 the scale attributes.
    icon: scale_M.png
    code: |
      from maya import cmds
      cmds.makeIdentity(apply=True, scale=True)
    context: |
      from maya import cmds
      cmds.select(cmds.createNode("transform", name="A"))
  freeze_transform:
    description: Reset to default the transform attributes.
    icon: srt_M.png
    code: |
      from maya import cmds
      cmds.makeIdentity(apply=True, translate=True, rotate=True, scale=True)
    context: |
      from maya import cmds
      cmds.select(cmds.createNode("transform", name="A"))
  freeze_translate:
    description: Reset to 0 the translate attributes.
    icon: move_M.png
    code: |
      from maya import cmds
      cmds.makeIdentity(apply=True, translate=True)
    context: |
      from maya import cmds
      cmds.select(cmds.createNode("transform", name="A"))

  # Icon Editor ---
  cra_icons:
    description: Open craIcons window.
    tags: [ui, skip_test]
    code: |
      from maya import mel
      mel.eval("craIcons")
  icon_browser:
    description: Show the maya icon browser.
    icon: menuIconWindow.png
    code: |
      from maya.app.general import resourceBrowser
      x = resourceBrowser.resourceBrowser()
      x.run()

  # Maya ---
  startup:
    description: Execute all the user setup scripts that was run at startup.
    icon: fuse.svg
    code: |
      import maya.app.startup.basic
      maya.app.startup.basic.executeUserSetup()

  # Match ---
  match_pivot:
    description: Match the pivot of the selected nodes
    icon: buttonManip.svg
    code: |
      from maya import mel
      mel.eval("MatchPivots")
  match_rotate:
    description: Match the rotation attributes of the selected nodes
    icon: rotate_M.png
    code: |
      from maya import mel
      mel.eval("MatchRotation")
  match_scale:
    description: Match the scale attributes of the selected nodes
    icon: scale_M.png
    code: |
      from maya import mel
      mel.eval("MatchScaling")
  match_transform:
    description: Match all the transform attributes of the selected nodes.
    icon: srt_M.png
    code: |
      from maya import mel
      mel.eval("MatchTransform")
  match_translate:
    description: Match the translate attributes of the selected nodes
    icon: move_M.png
    code: |
      from maya import mel
      mel.eval("MatchTranslation")

  # Node Editor ---
  node_editor:
    description: Open the node editor.
    code: |
      from maya import mel
      mel.eval("NodeEditorWindow")
  node_editor_add:
    description: Add the selected nodes to the node editor.
    icon: nodeGrapherAddNodes.png
    code: |
      from maya import mel
      mel.eval("NodeEditorGraphAddSelected")
  node_editor_clear:
    description: Removes all nodes of the current node editor tab.
    icon: hsClearView.png
    code: |
      from maya import mel
      mel.eval("NodeEditorGraphClearGraph")
  node_editor_remove:
    description: Remove the selected nodes to the node editor.
    icon: nodeGrapherRemoveNodes.png
    code: |
      from maya import mel
      mel.eval("NodeEditorGraphRemoveSelected")
  node_editor_show_all:
    description: Show all attributes of the node.
    icon: nodeGrapherToggleView.png
    tags: [skip_test]
    code: |
      from maya import cmds, mel
      editor = mel.eval("getCurrentNodeEditor")
      for each in cmds.ls(selection=True):
          cmds.nodeEditor(editor, edit=True, showAllNodeAttributes=each)

  # Polygons ---
  poly_cone:
    description: Create a new polygonal cone.
    icon: polyCone.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.polyCone()[0]
  poly_cube:
    description: Create a new polygonal cube.
    icon: polyCube.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.polyCube()[0]
  poly_cylinder:
    description: Create a new polygonal cylinder.
    icon: polyCylinder.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.polyCylinder()[0]
  poly_disc:
    description: Create a new polygonal disc.
    icon: polyDisc.png
    decorators: [undo_repeat]
    tags: [skip_test]
    code: |
      from maya import cmds
      cmds.polyDisc()
  poly_gear:
    description: Create a new polygonal gear.
    icon: polyGear.png
    decorators: [undo_repeat]
    tags: [skip_test]
    code: |
      from maya import cmds
      cmds.polyGear()
  poly_helix:
    description: Create a new polygonal helix.
    icon: polyHelix.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.polyHelix()[0]
  poly_pipe:
    description: Create a new polygonal pipe.
    icon: polyPipe.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.polyPipe()[0]
  poly_plane:
    description: Create a new polygonal plane.
    icon: polyMesh.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.polyPlane()[0]
  poly_prism:
    description: Create a new polygonal prism.
    icon: polyPrism.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.polyPrism()[0]
  poly_pyramid:
    description: Create a new polygonal pyramid.
    icon: polyPyramid.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.polyPyramid()[0]
  poly_sphere:
    description: Create a new polygonal sphere.
    icon: polySphere.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.polySphere()[0]
  poly_torus:
    description: Create a new polygonal torus.
    icon: polyTorus.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.polyTorus()[0]

  # Rigging ---
  hide_joint_orient:
    description: Turn to off the visibility of the joint orient for all joints in the scene.
    code: |
      import ftd.joint
      ftd.joint.show_orient(False)
  ik_handle:
    description: Create IK handle on joint chain.
    icon: kinHandle.png
    code: |
      from maya import mel
      mel.eval("IKHandleTool")
  ik_spline_handle:
    description: Create IK spline handle on joint chain.
    icon: kinSplineHandle.png
    code: |
      from maya import mel
      mel.eval("IKSplineHandleTool")
  joint:
    description: Create a new joint.
    icon: kinJoint.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.createNode("joint")
  joint_tool:
    description: Create joints using the joint tool.
    code: |
      from maya import mel
      mel.eval("JointTool")
  locator:
    description: Create a new locator.
    icon: locator.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.spaceLocator()[0]
  orient_joint:
    description: Align the rotate axis of a joint hierarchy.
    icon: orientJoint.png
    code: |
      from maya import mel
      mel.eval("OrientJoint")
  show_joint_orient:
    description: Turn to on the visibility of the joint orient for all joints in the scene.
    code: |
      import ftd.joint
      ftd.joint.show_orient(True)

  toggle_joint_orient:
    description: Toggle the visibility of the joint orient for all joints in the scene.
    short: jo
    code: |
      from maya import cmds
      for joint in cmds.ls(type="joint"):
        plug = joint + ".displayLocalAxis"
        cmds.setAttr(plug, not cmds.getAttr(plug))
  ik_handle_options:
    description: Open the ik handle settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("IKHandleToolOptions")
  ik_spline_handle_options:
    description: Open the IK spline settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("IKSplineHandleToolOptions")
  joint_tool_options:
    description: Open the joint tool settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("JointToolOptions")
  orient_joint_options:
    description: Open the orient joint settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("OrientJointOptions")

  # Script editor ---
  charcoal_editor:
    description: Open the charcoal editor.
    tags: [skip_test]
    code: |
      from maya import mel
      mel.eval("charcoalEditor2")
  script_editor:
    description: Open the script editor.
    code: |
      from maya import mel
      mel.eval("ScriptEditor")

  # Sculpting ---
  geometry_tool:
    description: Sculpt a geometry object
    icon: putty.png
    code: |
      from maya import mel
      mel.eval("SculptGeometryToolOptions")
  mesh_amplify:
    description: Accentuate surface detail.
    icon: Amplify.png
    code: |
      from maya import mel
      mel.eval("SetMeshAmplifyTool")
  mesh_bulge:
    description: Inflate an area on a surface.
    icon: Bulge.png
    code: |
      from maya import mel
      mel.eval("SetMeshBulgeTool")
  mesh_fill:
    description: Fill in the valleys on a surface.
    icon: Fill.png
    code: |
      from maya import mel
      mel.eval("SetMeshFillTool")
  mesh_flatten:
    description: Level a surface.
    icon: Pinch.png
    code: |
      from maya import mel
      mel.eval("SetMeshFlattenTool")
  mesh_foamy:
    description: Softly lift a surface.
    icon: Foamy.png
    code: |
      from maya import mel
      mel.eval("SetMeshFoamyTool")
  mesh_grab:
    description: Pull a single vertex along a surface in any direction.
    icon: Grab.png
    code: |
      from maya import mel
      mel.eval("SetMeshGrabTool")
  mesh_imprint:
    description: Imprint a single copy of a stamp on a surface.
    icon: Imprint.png
    code: |
      from maya import mel
      mel.eval("SetMeshImprintTool")
  mesh_knife:
    description: Cut fine strokes into a surface.
    icon: Knife.png
    code: |
      from maya import mel
      mel.eval("SetMeshKnifeTool")
  mesh_pinch:
    description: Sharpen soft edges.
    icon: Pinch.png
    code: |
      from maya import mel
      mel.eval("SetMeshPinchTool")
  mesh_relax:
    description: Smooth the surface of a mesh without changing its original shape.
    icon: Relax.png
    code: |
      from maya import mel
      mel.eval("SetMeshRelaxTool")
  mesh_repeat:
    description: Stamp a pattern on a surface repeatedly.
    icon: Repeat.png
    code: |
      from maya import mel
      mel.eval("SetMeshRepeatTool")
  mesh_scrape:
    description: Minimize or remove raised areas on a surface.
    icon: Scrape.png
    code: |
      from maya import mel
      mel.eval("SetMeshScrapeTool")
  mesh_sculpt:
    description: Lift a surface.
    icon: Sculpt.png
    code: |
      from maya import mel
      mel.eval("SetMeshSculptTool")
  mesh_smear:
    description: Pull a surface in the direction of the stroke.
    icon: Smear.png
    code: |
      from maya import mel
      mel.eval("SetMeshSmearTool")
  mesh_smooth:
    description: Smooth the surface of a mesh.
    icon: Smooth.png
    code: |
      from maya import mel
      mel.eval("SetMeshSmoothTool")
  mesh_spray:
    description: Randomly spray a stamp imprint on a surface.
    icon: Spray.png
    code: |
      from maya import mel
      mel.eval("SetMeshSprayTool")
  mesh_wax:
    description: Build up a surface.
    icon: Wax.png
    code: |
      from maya import mel
      mel.eval("SetMeshWaxTool")

  # Selection ---
  clear_selection:
    description: Deselect every selected nodes.
    icon: trash.png
    code: |
      from maya import mel
      mel.eval("SelectNone")
  invert_selection:
    description: Invert the current selection.
    icon: reverseOrder.png
    code: |
      from maya import mel
      mel.eval("InvertSelection")
  load_selection:
    description: Select the previous saved selection.
    icon: greasePencilImport.png
    code: |
      import ftd
      from maya import cmds
      if hasattr(ftd, "SELECTION"):
          cmds.select(ftd.SELECTION)
      else:
          LOG.error("No selection previously saved.")
  save_selection:
    description: Save the current selection to be able to reselect it later.
    icon: greasePencilExport.png
    code: |
      import ftd
      from maya import cmds
      ftd.SELECTION = cmds.ls(selection=True)
  select_all:
    description: Select all nodes in the scene.
    code: |
      from maya import mel
      mel.eval("SelectAll")
  select_hierarchy:
    description: Select all descendant nodes in the outliner.
    icon: outliner.png
    code: |
      from maya import mel
      mel.eval("SelectHierarchy")

  # Skincluster ---
  add_influence:
    description: Add the selected object as an influence to the selceted skinCluster.
    icon: addWrapInfluence.png
    code: |
      from maya import mel
      mel.eval("AddInfluence")
  bind_skin:
    description: Create and attach a skincluster to the selected node.
    icon: smoothSkin.png
    code: |
      from maya import mel
      mel.eval("SmoothBindSkin")
  copy_skin:
    description: Copy the weight of a vertex to paste it onto other vertices.
    icon: copySkinWeight.png
    code: |
      from maya import mel
      mel.eval("CopySkinWeights")
  interactive_bind_skin:
    description: Adjust volume based weights on smooth bound skins.
    icon: interactiveBindTool.png
    code: |
      from maya import mel
      mel.eval("InteractiveBindSkin")
  mirror_joints:
    description: Mirror the joints on the opposite side.
    icon: kinMirrorJoint_S.png
    code: |
      from maya import mel
      mel.eval("MirrorJoint")
  mirror_skin_weights:
    description: Mirror the skin weights on the selected bound mesh.
    icon: mirrorSkinWeight.png
    code: |
      from maya import mel
      mel.eval("MirrorSkinWeights")
  move_skinned_joint:
    description: Move joints on smooth bound skins
    icon: moveSkinnedJoint.png
    code: |
      from maya import mel
      mel.eval("MoveSkinJointsTool")
  paint_weight:
    description: Paint weights on smooth bound skins.
    icon: paintSkinWeights.png
    code: |
      from maya import mel
      mel.eval("ArtPaintSkinWeightsToolOptions")
  remove_influence:
    description: Remove the selected influence from the selected skinCluster.
    icon: removeWrapInfluence.png
    code: |
      from maya import mel
      mel.eval("RemoveInfluence")
  select_influences:
    description: Select all the influence nodes of a skincluster.
    short: skc inf
    code: |
      import ftd.skincluster
      from maya import cmds
      influences = []
      for each in cmds.ls(selection=True):
        influences_ = ftd.skincluster.find_influences(each)
        influences.extend(influences_)
      cmds.select(influences)
  select_unused_influences:
    description: Select the unused influence nodes of a skincluster.
    code: |
      import ftd.skincluster
      from maya import cmds
      influences = []
      for each in cmds.ls(selection=True):
        influences_ = ftd.skincluster.find_influences(each, unused=True)
        influences.extend(influences_)
      cmds.select(influences)
  select_weighted_influences:
    description: Select the weighted influence nodes of a skincluster.
    code: |
      import ftd.skincluster
      from maya import cmds
      influences = []
      for each in cmds.ls(selection=True):
        influences_ = ftd.skincluster.find_influences(each, weighted=True)
        influences.extend(influences_)
      cmds.select(influences)

  add_influence_options:
    description: Open the add influence settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("AddInfluenceOptions")
  bind_skin_options:
    description: Open the bind skin settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("SmoothBindSkinOptions")
  copy_skin_options:
    description: Open the copy skin settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("CopySkinWeightsOptions")
  interactive_bind_skin_options:
    description: Open the interactive bind skin settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("InteractiveBindSkinOptions")
  mirror_joints_options:
    description: Open the mirror joints settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("MirrorJointOptions")
  mirror_skin_weights_options:
    description: Open the mirror skin weights settings.
    tags: [ui]
    code: |
      from maya import mel
      mel.eval("MirrorSkinWeightsOptions")

  # Surface ---
  cone:
    description: Create a NURBS cone.
    icon: cone.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.cone()[0]
  cube:
    description: Create a NURBS cube.
    icon: cube.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.nurbsCube()[0]
  cylinder:
    description: Create a NURBS cylinder.
    icon: cylinder.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.cylinder()[0]
  plane:
    description: Create a NURBS plane.
    icon: plane.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.nurbsPlane(axis=(0, 1, 0))[0]
  sphere:
    description: Create a NURBS sphere.
    icon: sphere.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.sphere()[0]
  torus:
    description: Create a NURBS torus.
    icon: torus.png
    decorators: [create, undo_repeat]
    code: |
      from maya import cmds
      return cmds.torus()[0]

  # Utilities ---
  chain:
    description: Parent each nodes under the previous one.
    short: chain
    decorators: [undo_repeat]
    code: |
      from maya import cmds
      selection = cmds.ls(selection=True)[::-1]
      for i, each in enumerate(selection[1:]):
          cmds.parent(selection[i], each)
  name_conflicts:
    description: Find the name conflicts in the scene.
    code: |
      import ftd.name
      ftd.name.find_conflicts(sets=True)
  offset:
    description: Create an offset group under the current selected node.
    icon: transform.svg
    short: "off"
    decorators: [undo_repeat]
    code: |
      import ftd.offset
      from maya import cmds
      for each in cmds.ls(selection=True):
          ftd.offset.group(each)
  inverse_offset:
    description: Create a negate offset.
    icon: transform.svg
    short: off-1
    decorators: [undo_repeat]
    code: |
      import ftd.offset
      from maya import cmds
      for each in cmds.ls(selection=True):
          ftd.offset.inverse_group(each)

  # Viewport ---
  toggle_grid:
    description: Toggle the grid visibility.
    code: |
      import ftd.viewport
      ftd.viewport.toggle_view("grid")
  toggle_joints:
    description: Toggle the visibility of the joints node in the viewport.
    code: |
      import ftd.viewport
      ftd.viewport.toggle_view("joints")

decorators:
  undo: ftd.utility.undo
  repeat: ftd.utility.repeat
  undo_repeat: ftd.utility.undo_repeat
  create: ftd.transform.create_and_match
  keep_selected: ftd.utility.keep_selected

hotkey_sets:
  ftd:
    base: Maya_Default
    hotkeys:
      - command: reset_attributes
        key: z
        category: attribute
      - command: node_editor
        key: "n"
        category: node_editor
      - command: node_editor_add
        key: alt+a
        category: node_editor
      - command: node_editor_remove
        key: alt+r
        category: node_editor
      - command: node_editor_clear
        key: alt+c
        category: node_editor
      - command: node_editor_show_all
        key: "5"
        category: node_editor
      - command: script_editor
        category: script_editor
        key: o
      - command: charcoal_editor
        category: script_editor
        key: alt+o
      - command: toggle_joints
        category: viewport
        key: alt+3
      - command: toggle_grid
        category: viewport
        key: alt+x
      - command: new_scene
        key: ctrl+n

marking_menus:
  ftd:
    parent: MainPane
    key: ctrl+alt+left
    children:
      - name: match
        menu: true
        icon: makeLive.png
        position: sw
        children:
          - command: match_transform
            position: "n"
          - command: match_translate
            position: w
          - command: match_rotate
            position: e
          - command: match_scale
            position: s
          - command: match_pivot
      - name: freeze
        menu: true
        icon: FreezeTransform.png
        position: s
        children:
          - command: freeze_transform
            position: "n"
          - command: freeze_translate
            position: w
          - command: freeze_rotate
            position: e
          - command: freeze_scale
            position: s
          - command: freeze_joint_orient
            position: se
      - name: selection
        menu: true
        icon: lassoSelect.png
        position: w
        children:
          - command: select_all
            position: "n"
          - command: clear_selection
            position: w
          - command: select_hierarchy
            position: s
          - command: invert_selection
            position: e
          - command: save_selection
            position: sw
          - command: load_selection
            position: nw
      - name: defomers
        menu: true
        icon: blendShape.png
        position: ne
        children:
          - command: bind_skin
            box: bind_skin_options
            position: "n"
          - command: cluster
            position: e
            box: cluster_options
          - command: blendshape
            box: blendshape_options
            position: s
          - command: lattice
            box: lattice_options
            position: w
          - command: sculpt
            box: sculpt_options
            position: ne
          - command: deltamush
            box: deltamush_options
            position: nw
          - command: wire
            box: wire_options
            position: sw
          - name: nonlinear
            menu: true
            position: se
            children:
              - command: bend
                options: bend_options
                position: "n"
              - command: flare
                box: flare_options
                position: e
              - command: sine
                box: sine_options
                position: w
              - command: squash
                box: squash_options
                position: s
              - command: twist
                box: twist_options
                position: ne
              - command: wave
                box: wave_options
                position: nw
          - command: softmod
            box: softmod_options
          - divider: true
          - command: paint_weight
          - command: mirror_skin_weights
            box: mirror_skin_weights_options
      - name: constraints
        menu: true
        icon: parentConstraint.png
        position: "n"
        children:
          - command: parent_constraint
            box: parent_constraint_options
            position: "n"
          - command: point_constraint
            box: point_constraint_options
            position: nw
          - command: orient_constraint
            box: orient_constraint_options
            position: ne
          - command: scale_constraint
            box: scale_constraint_options
            position: s
          - command: aim_constraint
            box: aim_constraint_options
            position: e
          - command: pole_vector_constraint
            box: pole_vector_constraint_options
            position: w
          - command: normal_constraint
            box: normal_constraint_options
            position: se
          - command: tangent_constraint
            box: tangent_constraint_options
            position: sw
          - command: rivet
          - command: motion_path
            box: motion_path_options
      - name: objects
        menu: true
        icon: parentConstraint.png
        position: e
        children: {}
      - name: scene
        menu: true
        icon: fileNew.png
        position: se
        children: {}
      - name: editors
        menu: true
        icon: menuIconWindow.png
        position: nw
        children: {}

shelves:
  ftd:
    parent: ShelfLayout
    children:
      - command: startup
      - separator: true

toolbar:
  ftd:
    - name: File
      visible: false
      children:
        - command: new_scene
          label: true
    - name: Polygons
      children:
        - command: poly_sphere
        - command: poly_cube
        - command: poly_cylinder
        - command: poly_cone
        - command: poly_torus
        - command: poly_plane
        - command: poly_disc
        - command: poly_pyramid
        - command: poly_prism
        - command: poly_pipe
        - command: poly_helix
        - command: poly_gear
    - name: Sculpting
      visible: false
      children:
        - command: mesh_sculpt
        - command: mesh_smooth
        - command: mesh_relax
        - command: mesh_grab
        - command: mesh_bulge
        - command: geometry_tool
    - name: Surfaces
      visible: false
      children:
        - command: sphere
        - command: cube
        - command: cylinder
        - command: cone
        - command: plane
        - command: torus
    - name: Curves
      visible: true
      children:
        - command: create_curve
          options:
            - command: create_curve_options
        - command: pencil_curve
          options:
            - command: pencil_curve_options
        - command: three_point_arc
          options:
            - command: three_point_arc_options
        - command: attach_curve
          options:
            - command: attach_curve_options
        - command: detach_curve
          options:
            - command: detach_curve_options
        - command: insert_knot
          options:
            - command: insert_knot_options
        - command: extend_curve
          options:
            - command: extend_curve_options
        - command: offset_curve
          options:
            - command: offset_curve_options
        - command: rebuild_curve
          options:
            - command: rebuild_curve_options
        - command: add_point
        - command: edit_curve
        - command: create_bezier_curve
        - command: reverse_curve
          options:
            - command: reverse_curve_options
        - command: open_close_curve
          options:
            - command: open_close_curve_options
        - command: curve_from_poly
          options:
            - command: curve_from_poly_options
    - name: Controls
      children:
        - command: square_control
        - command: circle_control
        - command: global_control
        - command: cube_control
        - command: sphere_control
        - command: gear_control
    - name: Utilities
      children:
        - command: offset
          label: true
        - command: inverse_offset
          label: true
        - command: chain
          label: true
        - command: select_influences
          label: true
          options:
            - command: select_weighted_influences
            - command: select_unused_influences
        - command: toggle_joint_orient
          label: true
          options:
            - command: hide_joint_orient
            - command: show_joint_orient
        - command: object_replace_control_shape
          label: true
          options:
            - command: world_replace_control_shape
        - command: mirror_control_shape
          label: true
        - command: name_conflicts
          label: true
    - name: Rigging
      children:
        - command: locator
        - command: joint
          options:
            - command: joint_tool
            - command: joint_tool_options
        - command: orient_joint
          options:
            - command: orient_joint_options
        - command: ik_handle
          options:
            - command: ik_handle_options
        - command: ik_spline_handle
          options:
            - command: ik_spline_handle_options
        - command: parent_constraint
          label: true
          options:
            - command: parent_constraint_options
        - command: point_constraint
          label: true
          options:
            - command: point_constraint_options
        - command: orient_constraint
          label: true
          options:
            - command: orient_constraint_options
        - command: scale_constraint
          label: true
          options:
            - command: scale_constraint_options
        - command: aim_constraint
          label: true
          options:
            - command: aim_constraint_options
        - command: pole_vector_constraint
          label: true
          options:
            - command: pole_vector_constraint_options
        - command: matrix_constraint
          options:
            - command: matrix_point_constraint
            - command: matrix_orient_constraint
            - command: matrix_scale_constraint
            - divider: true
            - command: matrix_chain_constraint
        - command: bind_skin
          options:
            - command: bind_skin_options
        - command: interactive_bind_skin
          options:
            - command: interactive_bind_skin_options
        - command: move_skinned_joint
        - command: add_influence
          options:
            - command: add_influence_options
        - command: remove_influence
        - command: mirror_joints
          options:
            - command: mirror_joints_options
        - command: paint_weight
        - command: copy_skin
          options:
            - command: copy_skin_options
        - command: mirror_skin_weights
          options:
            - command: mirror_skin_weights_options
    - name: Deformers
      children:
        - command: blendshape
          options:
            - command: blendshape_options
        - command: cluster
          options:
            - command: cluster_options
        - command: lattice
          options:
            - command: lattice_options
        - command: deltamush
          label: true
          options:
            - command: deltamush_options
        - command: wrap
          label: true
          options:
            - command: wrap_options
        - command: wire
          label: true
          options:
            - command: wire_options
        - command: shrink_wrap
          label: true
          options:
            - command: shrink_wrap_options
        - command: sculpt
          label: true
          options:
            - command: sculpt_options
        - command: bend
        - command: flare
        - command: sine
        - command: squash
        - command: twist
        - command: wave
        - command: softmod
          options:
            - command: softmod
        - command: mirror
        - command: toggle_intermediate
          options:
            - command: show_intermediate
            - command: hide_intermediate
    - name: Animation
      visible: false
      children:
        - command: delete_animation
          label: true
        - command: bake_simulation
          label: true
          options:
            - command: bake_simulation_options
    - name: Editors
      visible: false
      children:
        - command: icon_browser
          label: true
          options:
            - command: cra_icons

colors:
  # Grid ---
  gridHighlight: 3
  grid: 2
  gridAxis: 16
  # Viewport ---
  headsUpDisplayLabels: 3
  background: [0.251, 0.251, 0.251]
  # Script Editor ---
  syntaxKeywords: [1, 0.0979934, 0.379995]
  syntaxStrings: [0.955993, 0.882048, 0.384314]
  syntaxComments: [0.420005, 0.420005, 0.420005]
  syntaxCommands: [0.677897, 0.5019, 1]

options:
  useSaveScenePanelConfig: false
  useScenePanelConfig: false
  displayDivisionLines: false
